===============================================
      🎮 游戏运行时背景显示问题解决指南
===============================================

【问题】场景中能看到背景，但游戏运行时看不到？

===============================================
📋 立即解决方案（按顺序尝试）
===============================================

在Unity中，依次点击：Tools → 背景设置

1️⃣ 🎮 诊断游戏运行时背景    ← 运行游戏时点击这个
2️⃣ 🛠️ 修复游戏运行时背景    ← 自动修复问题
3️⃣ 📌 强制背景跟随摄像机    ← 确保背景始终跟随

===============================================
🚨 问题原因分析
===============================================

为什么场景中看得到，游戏中看不到？

1️⃣ 摄像机位置不同
   • 场景视图：编辑器摄像机
   • 游戏视图：Main Camera（可能被Cinemachine控制）
   
2️⃣ 背景位置固定，摄像机移动了
   • 角色移动→Cinemachine跟随→摄像机远离背景
   
3️⃣ 渲染层级问题
   • 游戏中其他对象遮挡了背景
   
4️⃣ 视差系统问题
   • ParallaxController可能有错误

===============================================
🔍 详细诊断方法
===============================================

运行游戏后点击"诊断游戏运行时背景"，查看：

✅ 绿色信息：
   • 摄像机位置
   • 背景位置
   • 视野范围
   
⚠️ 黄色警告：
   • 背景不在视野内
   • 角色距离背景太远
   
❌ 红色错误：
   • 找不到背景对象
   • 找不到摄像机

===============================================
🛠️ 自动修复功能
===============================================

"修复游戏运行时背景"会自动：

✅ 调整背景位置到摄像机视野内
✅ 修正排序层级（背景设为-10以下）
✅ 恢复背景透明度到100%
✅ 启用视差控制器

===============================================
📌 强制跟随功能
===============================================

"强制背景跟随摄像机"会：

✅ 添加简单跟随脚本
✅ 背景始终跟随摄像机移动
✅ 保持固定距离
✅ 可选择跟随X轴、Y轴

===============================================
🎯 最佳实践
===============================================

为避免这个问题：

1. 使用视差背景系统
   • 背景会自动跟随摄像机
   
2. 设置合理的排序层级
   • 背景：-10 到 -1
   • 地面：0 到 5
   • 角色：10 到 15
   
3. 确保背景足够大
   • 覆盖整个游戏区域
   
4. 测试不同摄像机位置
   • 角色移动到不同位置时背景是否正常

===============================================
💡 调试技巧
===============================================

1. 运行游戏时查看Hierarchy
   • BackgroundParallax是否存在？
   • 子对象是否激活？
   
2. 查看Scene视图中的摄像机预览
   • Main Camera显示什么？
   
3. 检查Game视图的渲染统计
   • 背景是否被渲染？

===============================================
🆘 终极解决方案
===============================================

如果以上都不行：

1. 删除所有背景相关对象
2. 重新运行"自动背景设置器"
3. 运行"修复游戏运行时背景"
4. 添加"游戏运行时背景诊断器"到场景
5. 启用实时监控功能 