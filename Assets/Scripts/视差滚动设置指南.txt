视差滚动设置指南 - 5层背景图实现指南
=============================================

功能介绍：
让5张不同图层的背景图以不同速度跟随角色移动，创造出深度感和层次感的视觉效果。
完美配合现有的CinemachineCamera系统。

## 📋 快速设置步骤

### 第一步：创建视差控制器
1. 在5.26地图场景中创建空GameObject，命名为"ParallaxController"
2. 添加ParallaxController脚本组件
3. 脚本会自动找到Main Camera作为参考

### 第二步：准备背景图层
确保你的5张背景图都是独立的GameObject，建议命名为：
- 背景1_远景天空 (最远层)
- 背景2_远山
- 背景3_中景
- 背景4_近景树木
- 背景5_前景装饰 (最近层)

### 第三步：配置图层
1. 在ParallaxController的Inspector中
2. 设置"Parallax Layers"数组大小为5
3. 逐个配置每个图层：

## 🎯 推荐的5层设置

### 图层0 - 远景天空
- Layer Transform: 拖入最远背景图的Transform
- Parallax Factor: 0.1 (移动最慢)
- Layer Name: "远景天空"
- Enable Vertical Parallax: 启用
- Vertical Parallax Factor: 0.05

### 图层1 - 远山
- Layer Transform: 拖入远山背景图的Transform  
- Parallax Factor: 0.3
- Layer Name: "远山"
- Enable Vertical Parallax: 启用
- Vertical Parallax Factor: 0.15

### 图层2 - 中景
- Layer Transform: 拖入中景背景图的Transform
- Parallax Factor: 0.5
- Layer Name: "中景"
- Enable Vertical Parallax: 启用
- Vertical Parallax Factor: 0.25

### 图层3 - 近景树木
- Layer Transform: 拖入近景背景图的Transform
- Parallax Factor: 0.7
- Layer Name: "近景树木"
- Enable Vertical Parallax: 启用
- Vertical Parallax Factor: 0.35

### 图层4 - 前景装饰
- Layer Transform: 拖入最近背景图的Transform
- Parallax Factor: 0.9 (移动最快)
- Layer Name: "前景装饰"
- Enable Vertical Parallax: 启用
- Vertical Parallax Factor: 0.45

## ⚡ 一键快速设置

如果已经配置好5个图层的Transform，可以：
1. 点击Inspector中的"应用5层推荐设置"按钮
2. 系统会自动应用上述推荐数值

## 🔧 视差系数说明

### 数值含义：
- **0.0**: 完全不动（适合非常远的背景，如天空）
- **0.1-0.3**: 移动很慢（远景山脉、云朵）
- **0.4-0.6**: 中等速度（中景建筑、树林）
- **0.7-0.9**: 较快移动（近景树木、装饰）
- **1.0**: 与摄像机同速移动
- **>1.0**: 比摄像机更快（前景特效）

### 垂直视差：
- 通常设为水平视差的50%
- 可以根据需要调整或禁用

## 🎮 使用效果

运行游戏后，当角色移动时：
- 远景天空几乎不动，保持稳定感
- 远山缓慢移动，增加距离感
- 中景适中移动，提供层次感
- 近景快速移动，增强速度感
- 前景装饰最快移动，加强立体感

## 🛠️ 高级设置

### 禁用某层：
在对应图层中取消勾选"Enabled"

### 调整单层：
运行时可以实时调整Parallax Factor查看效果

### 重置位置：
如果图层位置乱了，点击"重置所有图层位置"

### 临时禁用：
取消勾选"Enable Parallax"暂停视差效果

## 🔍 调试功能

### 显示图层信息：
- 右键ParallaxController组件
- 选择"显示图层信息"
- 查看所有图层配置状态

### 自动查找图层：
- 点击"自动查找背景图层"按钮
- 系统会列出可能的背景图层GameObject

## 🎯 优化建议

### 性能优化：
1. 背景图使用合适的分辨率
2. 启用Sprite的"Generate Mip Maps"
3. 使用Sprite Atlas合并小图

### 视觉优化：
1. 确保图层之间有明显的深度差异
2. 远景使用较淡的颜色
3. 近景使用较鲜明的颜色
4. 考虑图层间的色彩协调

### 设计建议：
1. 远景：天空、云朵、远山
2. 中远景：建筑轮廓、大树
3. 中景：主要场景元素
4. 近景：细节装饰、树叶
5. 前景：粒子效果、光效

## ❓ 常见问题

### 问题1：背景图不动
- 检查Transform是否正确拖入
- 确认Enabled是否勾选
- 验证Parallax Factor不为0

### 问题2：移动速度太快/太慢
- 调整对应图层的Parallax Factor
- 远景用小值，近景用大值

### 问题3：垂直移动不自然
- 调整Vertical Parallax Factor
- 或禁用垂直视差

### 问题4：图层错位
- 点击"重置所有图层位置"
- 检查初始位置是否正确

## 💡 创意用法

### 动态效果：
- 脚本中动态修改视差系数
- 创造特殊的摄像机效果

### 交互效果：
- 根据游戏状态调整视差强度
- 在特定场景禁用视差

### 多层叠加：
- 同一深度使用多个图层
- 创造复杂的视觉效果

## 🎨 最终效果

正确设置后，你的5层背景将创造出：
✅ 丰富的层次感
✅ 自然的深度感知
✅ 流畅的移动体验
✅ 专业的游戏画面效果

配合CinemachineCamera的跟随效果，将大大提升游戏的视觉体验！ 