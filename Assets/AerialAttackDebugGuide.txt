===== 空中攻击技能调试指南 =====

🔧 调试工具设置：

1. 【添加调试器组件】
   - 选择Player对象
   - 添加以下脚本组件：
     * AerialAttackDebugger.cs (主要调试工具)
     * AerialAttackAnimationChecker.cs (动画检查工具)
   - 确保Enable Debug Mode已勾选

2. 【运行时调试】
   ⌨️ 快捷键：
   - L键：提升玩家等级到3级
   - K键：重置技能冷却时间
   - X键：使用空中攻击技能
   - Tab键：切换调试UI显示

3. 【调试UI功能】
   - 设置等级为3：立即解锁空中攻击技能
   - 等级+1：逐步提升等级
   - 重置冷却时间：立即可再次使用技能
   - 测试空中攻击技能：手动触发技能
   - 敌人信息显示：查看场景中敌人数量和距离
   - 测试空中攻击动画：检查动画触发器

🔍 问题诊断步骤：

第一步：检查等级
- 确保玩家等级 >= 3级
- 使用L键或调试UI快速设置

第二步：检查冷却时间
- 确保技能不在冷却中
- 使用K键或调试UI重置冷却

第三步：检查动画设置
- 确保Animator有"Aerial_Attack"触发器参数
- 使用AerialAttackAnimationChecker自动检查
- 查看动画调试UI确认设置正确

第四步：检查敌人位置
- 查看调试UI中的敌人距离信息
- 敌人应该在3个单位范围内
- 在Scene视图中选择Player查看攻击范围可视化

第五步：检查控制台输出
技能正常工作时应该看到以下日志：
✅ "尝试使用空中攻击技能..."
✅ "所有条件满足，执行空中攻击！"
✅ "播放空中攻击动画：Aerial_Attack"
✅ "===== 空中攻击检测开始 ====="
✅ "检测到 X 个碰撞器"
✅ "发现敌人: XXX，准备造成伤害..."
✅ "✓ 空中攻击命中敌人 XXX，造成 50 点伤害"

❌ 如果没有伤害，检查：
- "警告：空中攻击没有命中任何敌人！"
- "场景中共有 X 个敌人标签的对象"
- 敌人距离是否超出范围

🎯 快速测试流程：

1. 运行游戏
2. 检查左上角动画调试UI确认设置正确
3. 按L键提升等级到3
4. 靠近敌人（距离<3单位）
5. 按X键使用技能
6. 观察控制台日志输出
7. 查看敌人血量是否减少

🔧 常见问题解决：

问题1：按X键无反应
解决：检查等级是否>=3，冷却时间是否结束

问题2：技能触发但敌人不受伤
解决：检查敌人是否在攻击范围内，查看Scene视图的可视化范围

问题3：找不到敌人
解决：确保敌人有Enemy组件和Collider2D组件，标签设为"Enemy"

问题4：Boss不受伤
解决：确保Boss有BossController组件和Collider2D组件

问题5：动画不播放
解决：使用AerialAttackAnimationChecker检查动画设置，确保有"Aerial_Attack"触发器

🎮 测试建议：

1. 使用Scene视图的Gizmos查看攻击范围
2. 移动玩家到不同位置测试
3. 测试左右方向的攻击
4. 测试多个敌人同时受伤
5. 观察减速效果是否生效
6. 使用动画调试工具确认动画播放

📝 调试日志说明：

蓝色日志 = 技能系统状态
黄色日志 = 输入检测和条件检查
绿色日志 = 成功操作
橙色日志 = 敌人/Boss受伤信息
红色日志 = 错误或警告

🛠️ 自动化检查工具：

1. AerialAttackDebugger：
   - 实时显示技能状态
   - 一键测试功能
   - 敌人距离监控

2. AerialAttackAnimationChecker：
   - 自动检查动画设置
   - 动画触发器测试
   - 实时动画状态显示

如果所有步骤都正确但仍有问题，请查看控制台的详细日志输出！
